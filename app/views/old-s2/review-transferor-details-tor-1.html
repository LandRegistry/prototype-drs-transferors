{% extends "layouts/main.html" %}

{% block pageTitle %}
  Content page template – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}
  {% set remainingTransferorId = request.query.remainingTransferor %}
  {% set remainingTransferorName = "" %}

  {% if remainingTransferorId == "1" %}
    {% set remainingTransferorName = data['transferor1Name'] | default('Sophie Green') %}
  {% else %}
    {% set remainingTransferorName = data['transferor2Name'] | default('Emily Pankhurst') %}
  {% endif %}

  <!-- Full Width Div for Heading and Text -->
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">
        <span class="govuk-caption-l">
          Transfer for value
        </span>
        Review transferor details
      </h1>
      <h2 class="govuk-heading-l govuk-!-margin-bottom-2">
        Transferors on the register
      </h2>
      <p class="govuk-body govuk-!-margin-bottom-7">
        These are the registered proprietors we hold for the title (or titles) in this application.
      </p>
    </div>
    <div class="govuk-grid-column-one-third">
      <!-- Empty for alignment -->
    </div>
  </div>

  <!-- Full Width Div for Summary Lists and Details Component -->
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

      <!-- Remaining Transferor -->
      {{ govukSummaryList({
        card: {
          title: {
            text: "Transferor " ~ remainingTransferorId
          },
          actions: {
            items: [
              {
                href: "#",
                text: "Add a party",
                visuallyHiddenText: "TBC"
              },
              {
                href: "/s1/confirm-remove-transferor?transferor=" ~ remainingTransferorId,
                text: "Remove",
                visuallyHiddenText: "transferor " ~ remainingTransferorId
              }
            ]
          }
        },
        rows: [
          {
            key: { text: "Transferor type" },
            value: { html: "Private individual" }
          },
          {
            key: { text: "Transferor name" },
            value: { html: remainingTransferorName },
            actions: {
              items: [
                {
                  href: "/s1/amend-transferor-private-individual-name?transferor=" ~ remainingTransferorId,
                  text: "Amend",
                  visuallyHiddenText: "transferor name"
                }
              ]
            }
          },
          {
            key: { text: "Capacity" },
            value: { html: "Registered proprietor" }
          },
          {
            key: { text: "Power of attorney" },
            value: { html: "Not in place" },
            actions: {}
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">
        Removed transferors
      </h2>
      <p class="govuk-body">
        If you have accidentally removed a transferor you can <a href="/s1/review-transferor-details-tor-2" class="govuk-link">reinstate</a> them.
      </p>

    </div>

    <div class="govuk-grid-column-one-third">
      <!-- Details Component Here -->
      {% from "govuk/components/details/macro.njk" import govukDetails %}
      {{ govukDetails({
        summaryText: "Guidance on transferors",
        html: "<strong>Transferors on the register</strong>" +
        "<p class='govuk-body'>You can:</p>" +
        "<ul class='govuk-list govuk-list--bullet'>" +
          "<li>add a party (such as an executor, guardian or administrator)</li>" +
          "<li>amend the transferor name</li>" +
          "<li>remove the transferor</li>" +
          "<li>add additional trustee</li>" +
          "<li>add an attorney</li>" +
        "</ul>",
        open: true
      }) }}
    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% from "govuk/components/button/macro.njk" import govukButton %}
			{{ govukButton({
				text: "Add additional trustee",
				href: "#",
				classes: "govuk-button--secondary"
			}) }}

      {% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
      {{ govukWarningText({
        text: "Naming errors lead to requisitions. By selecting 'Continue' you confirm all transferor names are correct.",
        iconFallbackText: "Warning"
      }) }}

      {% from "govuk/components/button/macro.njk" import govukButton %}
      {{ govukButton({
        text: "Continue"
      }) }}
    </div>
  </div>

{% endblock %}
